(this["webpackJsonpreact-infinite-cards"]=this["webpackJsonpreact-infinite-cards"]||[]).push([[0],{16:function(e,a,t){e.exports=t.p+"static/media/load.469a66b5.gif"},19:function(e,a,t){e.exports=t(43)},24:function(e,a,t){},25:function(e,a,t){},43:function(e,a,t){"use strict";t.r(a);var c=t(0),n=t.n(c),r=t(15),o=t.n(r),l=(t(24),t(25),t(5)),s=t(4),i=t(16),m=t.n(i),d=t(17),u=t.n(d),g=t(18),p=function(e){var a=e.aKey,t=e.url,c=e.title,r=e.copy,o=e.set,l=e.type;return n.a.createElement("div",{className:"card",key:a},n.a.createElement("div",{className:"card__image"},n.a.createElement("img",{src:t,alt:c})),n.a.createElement("div",{className:"card__copy"},n.a.createElement("p",{className:"card__title ".concat(l.replace(/\s+/g,"-").toLowerCase())},c),n.a.createElement("div",{className:"card__meta"},n.a.createElement("p",{className:""},o),n.a.createElement("p",{className:""},l)),n.a.createElement("p",{className:"card__text"},r)))},E="",h=1,v=!1,f=!0,y="https://api.elderscrollslegends.io/v1/cards",N=y,_=function(){var e=n.a.useState([]),a=Object(s.a)(e,2),t=a[0],r=a[1],o=n.a.useState(!1),i=Object(s.a)(o,2),d=i[0],_=i[1],S=Object(c.useState)(""),b=Object(s.a)(S,2),O=b[0],w=b[1];n.a.useEffect((function(){R()}),[]);var R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;N="".concat(y,"?pageSize=").concat(e,"&page=").concat(h,"&name=").concat(E),console.log("QUERY(fetch): ".concat(N)),u.a.get(N,{params:{pageSize:20}}).then((function(e){h+=1,v?(r(e.data.cards),v=!1):r([].concat(Object(l.a)(t),Object(l.a)(e.data.cards))),_(!0),f=20===e.data.cards.length,console.log("CARDS LOADING: ".concat(e.data.cards.length)),console.log("LOAD MORE?: ".concat(f))})).catch((function(e){console.log("Server ERROR: ".concat(e))}))},j=n.a.createElement(g.a,{dataLength:t,next:function(){return R(20)},hasMore:f,loader:n.a.createElement("img",{src:m.a,alt:"loading"}),endMessage:n.a.createElement("p",{className:"error"},"No more results")},n.a.createElement("div",{className:"gallery__grid"},d?t.map((function(e,a){return n.a.createElement(p,{key:a,title:e.name,copy:e.text,url:e.imageUrl,set:e.set.name,type:e.type})})):""));return n.a.createElement("div",{className:"gallery__container"},n.a.createElement("label",null,"Scroll to browse or type below to search for cards"),n.a.createElement("input",{type:"text",value:O,placeholder:"ex: Guard",onChange:function(e){var a;w(e.target.value),a=e.target.value,E=a.replace(/[^a-z]+/gi,","),N="".concat(y,"?pageSize=20&page=1&name=").concat(E),h=1,!0,console.log("onChangeQ: query: ".concat(N)),R(),v=E.length>0,console.log("IS SEARCH: ".concat(v))}}),(console.log("LOAD MORE?: ".concat(f)),j))};var S=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"header"},n.a.createElement("h1",{className:"header__title"},"Elder Scrolls Legends ala React.js")),n.a.createElement(_,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.74e4e74d.chunk.js.map